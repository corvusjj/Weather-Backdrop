(()=>{"use strict";const e=["London","Buenos Aires","Tokyo","Manila"];let t;async function n(n){if(function(e){return!(0!==e.length&&!/^ +$/.test(e)||(console.log("Please input a city"),0))}(n))return;r.style.display="none",i.style.display="block",u.textContent=o.value;const c=`http://api.weatherapi.com/v1/current.json?key=e3b1dd72d6964d4187050305230608&q=${n}&aqi=no`;await async function(e){try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw n;const o=await n.json();t=o}catch(e){const t=await e.json();throw console.log(t.error.message),t}}(c).then((()=>{var n;(function(){const n=t.location.name;if(e.includes(n)){const t=e.indexOf(n);e.splice(t,1)}else e.pop();var o;e.unshift(n),o=e,l.innerHTML="",o.forEach((e=>{const t=document.createElement("li");t.textContent=e,l.appendChild(t)}))})(),n=t,({current:m,location:p}=n),"celsius"===h&&(a.textContent=m.temp_c+"Â°"),q(),d.setAttribute("src",m.condition.icon),y.textContent=m.condition.text,y.textContent=n.current.condition.text})).finally((()=>{r.style.display="block",i.style.display="none"}))}const o=document.querySelector("#input-city"),c=document.querySelector("#search"),r=document.querySelector(".data-container"),i=document.querySelector(".loading-container"),u=document.querySelector("#pending-city"),l=document.querySelector("#search-history > ul"),a=document.querySelector("#temperature"),s=document.querySelector("#city"),d=document.querySelector("#weather-icon"),y=(document.querySelector("#time"),document.querySelector("#day"),document.querySelector("#date"),document.querySelector("#condition"));let m,p,h="celsius";function q(){s.textContent=p.name}c.addEventListener("click",(()=>{n(o.value)}))})();