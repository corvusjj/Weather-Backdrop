(()=>{"use strict";const e=["London","Buenos Aires","Tokyo","Manila"];let t;async function n(n){if(function(e){return!(0!==e.length&&!/^ +$/.test(e)||(console.log("Please input a city"),0))}(n))return;i.style.display="none",a.style.display="block",s.textContent=o.value;const c=`http://api.weatherapi.com/v1/current.json?key=e3b1dd72d6964d4187050305230608&q=${n}&aqi=no`;await async function(e){try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw n;const o=await n.json();t=o}catch(e){const t=await e.json();throw console.log(t.error.message),t}}(c).then((()=>{!function(){const n=t.location.name;if(e.includes(n)){const t=e.indexOf(n);e.splice(t,1)}else e.pop();var o;e.unshift(n),o=e,l.innerHTML="",o.forEach((e=>{const t=document.createElement("li");t.textContent=e,l.appendChild(t)}))}()})).finally((()=>{i.style.display="block",a.style.display="none"}))}const o=document.querySelector("#input-city"),c=document.querySelector("#search"),i=document.querySelector(".data-container"),a=document.querySelector(".loading-container"),s=document.querySelector("#pending-city"),l=document.querySelector("#search-history > ul");c.addEventListener("click",(()=>{n(o.value)}))})();